import{_ as p}from"./preload-helper.CLcXU_4U.js";class L{static initCopyButtons(){document.querySelectorAll(".copy-btn").forEach(e=>{const t=e.querySelector(".copy-checkbox"),l=e.closest(".highlight")?.querySelector(".code");!t||!l||t.addEventListener("change",async()=>{if(t.checked)try{await navigator.clipboard.writeText(l.innerText),t.disabled=!0,e.setAttribute("title","Copied!"),setTimeout(()=>{t.disabled=!1,e.removeAttribute("title"),t.checked=!1},1500)}catch(m){console.error("Copy failed:",m)}})})}static initImageZoom(){p(async()=>{const{default:e}=await import("./index.DKukXHGW.js");return{default:e}},[]).then(({default:e})=>{e(".main-card img:not(.link-card img):not(.comment img)",{margin:24,background:"#00000080"})})}static init(){this.initCopyButtons(),this.initImageZoom(),document.dispatchEvent(new Event("astro:page-load"))}}document.addEventListener("swup:page:view",()=>L.init());document.addEventListener("DOMContentLoaded",()=>{document.dispatchEvent(new Event("swup:page:view"))});let v=window.scrollY;const g=document.getElementById("navbar"),d=document.getElementById("header-menu"),f=document.getElementById("menu-toggle");f?.addEventListener("change",()=>{d&&(f.checked?d.classList.add("show"):d.classList.remove("show"))});function T(){g&&(window.scrollY>v&&window.scrollY>50?(g.classList.add("-translate-y-full","duration-500"),g.classList.remove("translate-y-0"),f&&(f.checked=!1),d&&d.classList.remove("show")):window.scrollY<v&&(g.classList.remove("-translate-y-full"),g.classList.add("translate-y-0","duration-300")),v=window.scrollY)}let w=!1;window.addEventListener("scroll",()=>{w||(window.requestAnimationFrame(()=>{T(),w=!1}),w=!0)});document.addEventListener("click",c=>{const e=c.target;!g?.contains(e)&&d?.classList.contains("show")&&(f.checked=!1,d.classList.remove("show"))});const y=document.querySelectorAll("#header-menu a");y.forEach(c=>{c.addEventListener("click",()=>{f.checked=!1,d?.classList.remove("show")})});function E(c){let e="";return c.childNodes.forEach(t=>{t.nodeType===Node.TEXT_NODE?e+=t.textContent:t.nodeType===Node.ELEMENT_NODE&&!t.classList.contains("sr-only")&&(e+=E(t))}),e}function k(){const c=document.getElementById("content-box")||null,e=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")),t=()=>{let n="<ul class='overflow-auto w-full list-none m-0 p-0' id='catalogs'>";const s=[0,0,0,0,0,0];return e.forEach(i=>{const r=E(i),h=i.id,o=Number.parseInt(i.tagName.charAt(1),10);if(h&&r&&o){const a=o-1;s[a]++,s.fill(0,a+1);let u=s.slice(1,a+1).join(".");u==""&&(u="‚öù"),n+=`
            <li class="list-none m-0 p-0">
              <a class="w-full text-base font-semibold p-2 level-${o}" href="#${h}">
                <span class="toc-number">${u}</span>${r}
              </a>
            </li>`}}),n+="</ul>",n};c&&(c.innerHTML=t());const l=(n,s)=>{let i=0;s>0&&s--;for(let r=0;r<s;r++){const h=document.querySelector(`a[href="#${n[r].id}"]`);h&&(i+=h.offsetHeight)}return i},m=()=>{let n=e.findIndex(i=>i.getBoundingClientRect().top>window.innerHeight*.2);n===-1?n=e.length-1:n>0&&(n-=1);const s=document.querySelector(`a[href="#${e[n].id}"]`);s&&(document.querySelector(".active")?.classList.remove("active"),s.classList.add("active"),document.getElementById("catalogs")?.scrollTo({top:l(e,n),behavior:"smooth"}))};document.addEventListener("scroll",m)}document.addEventListener("swup:page:view",k);class b extends HTMLElement{connectedCallback(){const e=o=>this.querySelector(o),t=e("#themeToggle"),l=e("#themeButton"),m=e("#themeLabel"),n=this.dataset.light,s=this.dataset.dark;[m].forEach(o=>{o&&(o.classList.remove("hidden"),o.classList.add("swap","swap-rotate"))});const i=(o,a)=>{document.documentElement.setAttribute("data-theme-type",a),document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",a)},r=()=>{const o=document.documentElement.dataset.theme;if(t&&m){const a=o===s;m.classList.toggle("active",a),t.checked=a}},h=()=>{let o=localStorage.getItem("theme");const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark";o!=="light"&&o!=="dark"&&(o="light",localStorage.setItem("theme",o));const u=(o||a)==="light"?"dark":"light";i(u==="light"?n:s,u),r()};r(),t&&l&&(t.disabled=!0,l.addEventListener("click",h))}}customElements.define("frosti-theme",b);class C extends HTMLElement{connectedCallback(){const t=(l=>this.querySelector(l))("#backToTop");t&&t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}}customElements.define("frosti-backtotop",C);
